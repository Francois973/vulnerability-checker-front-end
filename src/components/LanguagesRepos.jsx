import React from "react";
import { useState, useEffect } from "react";
import Button from "./Button";
import { imagesUrl } from "../utils/images";

const LanguagesRepos = ({ languages, url }) => {
  const [state, setState] = useState({});

  useEffect(() => {
    setState(languages);
  }, [languages]);

  const firstLanguage = state && Object.keys(state)[0];

  return (
    <div className="md:pt-4 flex md:flex-row flex-col items-start md:items-center md:justify-between w-full">
      <div>
        <img
          src={`${
            imagesUrl[firstLanguage]
              ? imagesUrl[firstLanguage]
              : "data:image/png;base64,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"
          }`}
          className="h-6 w-6"
        />
      </div>
      <div className="flex md:flex-row flex-wrap md:text-base text-xs grow md:pl-2 md:pr-2">
        {state &&
          Object.entries(state).map(([key, value]) => (
            <li key={key} className="p-1 list-none">
              <span className="w-[10vw]">{key}/</span>
            </li>
          ))}
      </div>{" "}
      {languages ? <Button languages={languages} url={url} /> : null}
    </div>
  );
};

export default LanguagesRepos;
