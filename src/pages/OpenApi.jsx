import React, { useEffect } from "react";
import GetRequest from "../components/GetRequest";
import PostRequest from "../components/PostRequest";
import ReactGA from "react-ga4";

const TABS = [
  {
    title: <p>Create project</p>,
    content: <PostRequest />,
  },
  {
    title: <p>Get vulnerabilities project</p>,
    content: <GetRequest />,
  },
];

const OpenApi = () => {
  useEffect(() => {
    ReactGA.send({ hitType: "pageview", page: "/api" });
  }, []);

  return (
    <div className="w-[80%] md:w-[50%] m-auto min-h-screen mt-20 overflow-x-hidden">
      <h1 className="text-[32px] py-5 font-bold">
        Scanrepo REST API documentation
      </h1>
      <div className="py-5">
        <p>
          This API allows developers to know simply and quickly the
          vulnerabilities that are in their repositories thanks to the
          dependency files that are in them. The only condition is that your
          repository must be in "public" mode.
        </p>
      </div>
      {TABS.map((tab, index) => (
        <ul>
          <li key={index}>
            <div className="flex flex-row gap-x-4 text-[24px] items-end">
              {index + 1}.
              <span className="underline underline-offset-2">{tab.title}</span>
            </div>
            {tab.content}
          </li>
        </ul>
      ))}
    </div>
  );
};

export default OpenApi;
