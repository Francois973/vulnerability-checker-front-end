import React from "react";
import Status from "./Status";
import Loader from "./Loader";

const Ecosystem = ({
  name,
  status,
  setSelectedEcosystem,
  selectedEcosystem,
}) => {
  const loading = ["scanning", "pending"].includes(status);
  const isActive = selectedEcosystem === name;

  const handleClick = () => {
    status === "unavailable"
      ? null
      : setSelectedEcosystem((prev) => (prev === name ? null : name));
  };

  return (
    <button
      onClick={handleClick}
      className={`flex flex-row items-center gap-x-5 p-2  ${
        status === "unavailable" ? "text-gray-600" : null
      } rounded-md mr-3 ${isActive ? "bg-gray-600" : null}`}
    >
      {name === "ERLANG" ? "ELIXIR" : name}
      {loading ? <Loader /> : <Status status={status} />}
    </button>
  );
};

export default Ecosystem;
